import{r as R,I as Ue,e as He,c as H,M as fe,J as pn,o as me,S as Oe,Z as gn,_ as mn,d as we,h as C,R as wn,t as xn,$ as yn,H as Sn,F as St,u as Rn,b as zn,T as qe,m as Tn}from"./index-uR_QbZnA.js";import{q as En,b as D,h as Bn,d as Hn,c as ye,a as re,i as Se,g as On,u as Rt,e as In}from"./plugin-vueexport-helper-CNqtoRz9.js";function zt(e){return e.composedPath()[0]||null}function Ke(e){return typeof e=="string"?e.endsWith("px")?Number(e.slice(0,e.length-2)):Number(e):e}function be(e,t){const n=e.trim().split(/\s+/g),r={top:n[0]};switch(n.length){case 1:r.right=n[0],r.bottom=n[0],r.left=n[0];break;case 2:r.right=n[1],r.left=n[1],r.bottom=n[0];break;case 3:r.right=n[1],r.bottom=n[2],r.left=n[1];break;case 4:r.right=n[1],r.bottom=n[2],r.left=n[3];break;default:throw new Error("[seemly/getMargin]:"+e+" is not a valid value.")}return r}function Rr(e,t){const[n,r]=e.split(" ");return{row:n,col:r||n}}function Mn(e=8){return Math.random().toString(16).slice(2,2+e)}function Ee(e){return e.composedPath()[0]}const Cn={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function kn(e,t,n){if(e==="mousemoveoutside"){const r=o=>{t.contains(Ee(o))||n(o)};return{mousemove:r,touchstart:r}}else if(e==="clickoutside"){let r=!1;const o=v=>{r=!t.contains(Ee(v))},l=v=>{r&&(t.contains(Ee(v))||n(v))};return{mousedown:o,mouseup:l,touchstart:o,touchend:l}}return console.error(`[evtd/create-trap-handler]: name \`${e}\` is invalid. This could be a bug of evtd.`),{}}function Tt(e,t,n){const r=Cn[e];let o=r.get(t);o===void 0&&r.set(t,o=new WeakMap);let l=o.get(n);return l===void 0&&o.set(n,l=kn(e,t,n)),l}function Pn(e,t,n,r){if(e==="mousemoveoutside"||e==="clickoutside"){const o=Tt(e,t,n);return Object.keys(o).forEach(l=>{q(l,document,o[l],r)}),!0}return!1}function $n(e,t,n,r){if(e==="mousemoveoutside"||e==="clickoutside"){const o=Tt(e,t,n);return Object.keys(o).forEach(l=>{V(l,document,o[l],r)}),!0}return!1}function Ln(){if(typeof window>"u")return{on:()=>{},off:()=>{}};const e=new WeakMap,t=new WeakMap;function n(){e.set(this,!0)}function r(){e.set(this,!0),t.set(this,!0)}function o(a,s,h){const b=a[s];return a[s]=function(){return h.apply(a,arguments),b.apply(a,arguments)},a}function l(a,s){a[s]=Event.prototype[s]}const v=new WeakMap,z=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function T(){var a;return(a=v.get(this))!==null&&a!==void 0?a:null}function p(a,s){z!==void 0&&Object.defineProperty(a,"currentTarget",{configurable:!0,enumerable:!0,get:s??z.get})}const w={bubble:{},capture:{}},g={};function O(){const a=function(s){const{type:h,eventPhase:b,bubbles:S}=s,P=Ee(s);if(b===2)return;const F=b===1?"capture":"bubble";let M=P;const L=[];for(;M===null&&(M=window),L.push(M),M!==window;)M=M.parentNode||null;const X=w.capture[h],U=w.bubble[h];if(o(s,"stopPropagation",n),o(s,"stopImmediatePropagation",r),p(s,T),F==="capture"){if(X===void 0)return;for(let j=L.length-1;j>=0&&!e.has(s);--j){const G=L[j],ee=X.get(G);if(ee!==void 0){v.set(s,G);for(const J of ee){if(t.has(s))break;J(s)}}if(j===0&&!S&&U!==void 0){const J=U.get(G);if(J!==void 0)for(const xe of J){if(t.has(s))break;xe(s)}}}}else if(F==="bubble"){if(U===void 0)return;for(let j=0;j<L.length&&!e.has(s);++j){const G=L[j],ee=U.get(G);if(ee!==void 0){v.set(s,G);for(const J of ee){if(t.has(s))break;J(s)}}}}l(s,"stopPropagation"),l(s,"stopImmediatePropagation"),p(s)};return a.displayName="evtdUnifiedHandler",a}function x(){const a=function(s){const{type:h,eventPhase:b}=s;if(b!==2)return;const S=g[h];S!==void 0&&S.forEach(P=>P(s))};return a.displayName="evtdUnifiedWindowEventHandler",a}const B=O(),_=x();function d(a,s){const h=w[a];return h[s]===void 0&&(h[s]=new Map,window.addEventListener(s,B,a==="capture")),h[s]}function f(a){return g[a]===void 0&&(g[a]=new Set,window.addEventListener(a,_)),g[a]}function k(a,s){let h=a.get(s);return h===void 0&&a.set(s,h=new Set),h}function $(a,s,h,b){const S=w[s][h];if(S!==void 0){const P=S.get(a);if(P!==void 0&&P.has(b))return!0}return!1}function Y(a,s){const h=g[a];return!!(h!==void 0&&h.has(s))}function K(a,s,h,b){let S;if(typeof b=="object"&&b.once===!0?S=X=>{I(a,s,S,b),h(X)}:S=h,Pn(a,s,S,b))return;const F=b===!0||typeof b=="object"&&b.capture===!0?"capture":"bubble",M=d(F,a),L=k(M,s);if(L.has(S)||L.add(S),s===window){const X=f(a);X.has(S)||X.add(S)}}function I(a,s,h,b){if($n(a,s,h,b))return;const P=b===!0||typeof b=="object"&&b.capture===!0,F=P?"capture":"bubble",M=d(F,a),L=k(M,s);if(s===window&&!$(s,P?"bubble":"capture",a,h)&&Y(a,h)){const U=g[a];U.delete(h),U.size===0&&(window.removeEventListener(a,_),g[a]=void 0)}L.has(h)&&L.delete(h),L.size===0&&M.delete(s),M.size===0&&(window.removeEventListener(a,B,F==="capture"),w[F][a]=void 0)}return{on:K,off:I}}const{on:q,off:V}=Ln();function Wn(e){const t=R(!!e.value);if(t.value)return Ue(t);const n=He(e,r=>{r&&(t.value=!0,n())});return Ue(t)}function zr(e,t){return He(e,n=>{n!==void 0&&(t.value=n)}),H(()=>e.value===void 0?t.value:e.value)}const Dn=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function Fn(){return Dn}const Tr=fe("n-drawer-body"),Er=fe("n-drawer"),Br=fe("n-modal-body"),Hr=fe("n-modal-provider"),Or=fe("n-modal"),Ir=fe("n-popover-body"),We=R(!1);function Ge(){We.value=!0}function Je(){We.value=!1}let he=0;function Mr(){return En&&(pn(()=>{he||(window.addEventListener("compositionstart",Ge),window.addEventListener("compositionend",Je)),he++}),me(()=>{he<=1?(window.removeEventListener("compositionstart",Ge),window.removeEventListener("compositionend",Je),he=0):he--})),We}let le=0,Qe="",et="",tt="",nt="";const rt=R("0px");function Cr(e){if(typeof document>"u")return;const t=document.documentElement;let n,r=!1;const o=()=>{t.style.marginRight=Qe,t.style.overflow=et,t.style.overflowX=tt,t.style.overflowY=nt,rt.value="0px"};Oe(()=>{n=He(e,l=>{if(l){if(!le){const v=window.innerWidth-t.offsetWidth;v>0&&(Qe=t.style.marginRight,t.style.marginRight=`${v}px`,rt.value=`${v}px`),et=t.style.overflow,tt=t.style.overflowX,nt=t.style.overflowY,t.style.overflow="hidden",t.style.overflowX="hidden",t.style.overflowY="hidden"}r=!0,le++}else le--,le||o(),r=!1},{immediate:!0})}),me(()=>{n==null||n(),r&&(le--,le||o(),r=!1)})}function Xn(e){const t={isDeactivated:!1};let n=!1;return gn(()=>{if(t.isDeactivated=!1,!n){n=!0;return}e()}),mn(()=>{t.isDeactivated=!0,n||(n=!0)}),t}function ot(e,t,n="default"){const r=t[n];if(r===void 0)throw new Error(`[vueuc/${e}]: slot[${n}] is empty.`);return r()}const ce="@@coContext",kr={mounted(e,{value:t,modifiers:n}){e[ce]={handler:void 0},typeof t=="function"&&(e[ce].handler=t,q("clickoutside",e,t,{capture:n.capture}))},updated(e,{value:t,modifiers:n}){const r=e[ce];typeof t=="function"?r.handler?r.handler!==t&&(V("clickoutside",e,r.handler,{capture:n.capture}),r.handler=t,q("clickoutside",e,t,{capture:n.capture})):(e[ce].handler=t,q("clickoutside",e,t,{capture:n.capture})):r.handler&&(V("clickoutside",e,r.handler,{capture:n.capture}),r.handler=void 0)},unmounted(e,{modifiers:t}){const{handler:n}=e[ce];n&&V("clickoutside",e,n,{capture:t.capture}),e[ce].handler=void 0}};function Nn(e,t){console.error(`[vdirs/${e}]: ${t}`)}class Vn{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(t,n){const{elementZIndex:r}=this;if(n!==void 0){t.style.zIndex=`${n}`,r.delete(t);return}const{nextZIndex:o}=this;r.has(t)&&r.get(t)+1===this.nextZIndex||(t.style.zIndex=`${o}`,r.set(t,o),this.nextZIndex=o+1,this.squashState())}unregister(t,n){const{elementZIndex:r}=this;r.has(t)?r.delete(t):n===void 0&&Nn("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:t}=this;t||(this.nextZIndex=2e3),this.nextZIndex-t>2500&&this.rearrange()}rearrange(){const t=Array.from(this.elementZIndex.entries());t.sort((n,r)=>n[1]-r[1]),this.nextZIndex=2e3,t.forEach(n=>{const r=n[0],o=this.nextZIndex++;`${o}`!==r.style.zIndex&&(r.style.zIndex=`${o}`)})}}const ke=new Vn,ue="@@ziContext",Pr={mounted(e,t){const{value:n={}}=t,{zIndex:r,enabled:o}=n;e[ue]={enabled:!!o,initialized:!1},o&&(ke.ensureZIndex(e,r),e[ue].initialized=!0)},updated(e,t){const{value:n={}}=t,{zIndex:r,enabled:o}=n,l=e[ue].enabled;o&&!l&&(ke.ensureZIndex(e,r),e[ue].initialized=!0),e[ue].enabled=!!o},unmounted(e,t){if(!e[ue].initialized)return;const{value:n={}}=t,{zIndex:r}=n;ke.unregister(e,r)}};function it(e,t){console.error(`[vueuc/${e}]: ${t}`)}function at(e){return typeof e=="string"?document.querySelector(e):e()}const $r=we({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(e){return{showTeleport:Wn(xn(e,"show")),mergedTo:H(()=>{const{to:t}=e;return t??"body"})}},render(){return this.showTeleport?this.disabled?ot("lazy-teleport",this.$slots):C(wn,{disabled:this.disabled,to:this.mergedTo},ot("lazy-teleport",this.$slots)):null}});var oe=[],_n=function(){return oe.some(function(e){return e.activeTargets.length>0})},An=function(){return oe.some(function(e){return e.skippedTargets.length>0})},st="ResizeObserver loop completed with undelivered notifications.",Yn=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:st}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=st),window.dispatchEvent(e)},ge;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ge||(ge={}));var ie=function(e){return Object.freeze(e)},jn=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,ie(this)}return e}(),Et=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ie(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,l=t.right,v=t.bottom,z=t.left,T=t.width,p=t.height;return{x:n,y:r,top:o,right:l,bottom:v,left:z,width:T,height:p}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),De=function(e){return e instanceof SVGElement&&"getBBox"in e},Bt=function(e){if(De(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,l=o.offsetWidth,v=o.offsetHeight;return!(l||v||e.getClientRects().length)},lt=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Zn=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},pe=typeof window<"u"?window:{},Re=new WeakMap,ct=/auto|scroll/,Un=/^tb|vertical/,qn=/msie|trident/i.test(pe.navigator&&pe.navigator.userAgent),Z=function(e){return parseFloat(e||"0")},de=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new jn((n?t:e)||0,(n?e:t)||0)},ut=ie({devicePixelContentBoxSize:de(),borderBoxSize:de(),contentBoxSize:de(),contentRect:new Et(0,0,0,0)}),Ht=function(e,t){if(t===void 0&&(t=!1),Re.has(e)&&!t)return Re.get(e);if(Bt(e))return Re.set(e,ut),ut;var n=getComputedStyle(e),r=De(e)&&e.ownerSVGElement&&e.getBBox(),o=!qn&&n.boxSizing==="border-box",l=Un.test(n.writingMode||""),v=!r&&ct.test(n.overflowY||""),z=!r&&ct.test(n.overflowX||""),T=r?0:Z(n.paddingTop),p=r?0:Z(n.paddingRight),w=r?0:Z(n.paddingBottom),g=r?0:Z(n.paddingLeft),O=r?0:Z(n.borderTopWidth),x=r?0:Z(n.borderRightWidth),B=r?0:Z(n.borderBottomWidth),_=r?0:Z(n.borderLeftWidth),d=g+p,f=T+w,k=_+x,$=O+B,Y=z?e.offsetHeight-$-e.clientHeight:0,K=v?e.offsetWidth-k-e.clientWidth:0,I=o?d+k:0,a=o?f+$:0,s=r?r.width:Z(n.width)-I-K,h=r?r.height:Z(n.height)-a-Y,b=s+d+K+k,S=h+f+Y+$,P=ie({devicePixelContentBoxSize:de(Math.round(s*devicePixelRatio),Math.round(h*devicePixelRatio),l),borderBoxSize:de(b,S,l),contentBoxSize:de(s,h,l),contentRect:new Et(g,T,s,h)});return Re.set(e,P),P},Ot=function(e,t,n){var r=Ht(e,n),o=r.borderBoxSize,l=r.contentBoxSize,v=r.devicePixelContentBoxSize;switch(t){case ge.DEVICE_PIXEL_CONTENT_BOX:return v;case ge.BORDER_BOX:return o;default:return l}},Kn=function(){function e(t){var n=Ht(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=ie([n.borderBoxSize]),this.contentBoxSize=ie([n.contentBoxSize]),this.devicePixelContentBoxSize=ie([n.devicePixelContentBoxSize])}return e}(),It=function(e){if(Bt(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Gn=function(){var e=1/0,t=[];oe.forEach(function(v){if(v.activeTargets.length!==0){var z=[];v.activeTargets.forEach(function(p){var w=new Kn(p.target),g=It(p.target);z.push(w),p.lastReportedSize=Ot(p.target,p.observedBox),g<e&&(e=g)}),t.push(function(){v.callback.call(v.observer,z,v.observer)}),v.activeTargets.splice(0,v.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},dt=function(e){oe.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(It(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},Jn=function(){var e=0;for(dt(e);_n();)e=Gn(),dt(e);return An()&&Yn(),e>0},Pe,Mt=[],Qn=function(){return Mt.splice(0).forEach(function(e){return e()})},er=function(e){if(!Pe){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return Qn()}).observe(n,r),Pe=function(){n.textContent="".concat(t?t--:t++)}}Mt.push(e),Pe()},tr=function(e){er(function(){requestAnimationFrame(e)})},Be=0,nr=function(){return!!Be},rr=250,or={attributes:!0,characterData:!0,childList:!0,subtree:!0},ft=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ht=function(e){return e===void 0&&(e=0),Date.now()+e},$e=!1,ir=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=rr),!$e){$e=!0;var r=ht(t);tr(function(){var o=!1;try{o=Jn()}finally{if($e=!1,t=r-ht(),!nr())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,or)};document.body?n():pe.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),ft.forEach(function(n){return pe.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),ft.forEach(function(n){return pe.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),Le=new ir,vt=function(e){!Be&&e>0&&Le.start(),Be+=e,!Be&&Le.stop()},ar=function(e){return!De(e)&&!Zn(e)&&getComputedStyle(e).display==="inline"},sr=function(){function e(t,n){this.target=t,this.observedBox=n||ge.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Ot(this.target,this.observedBox,!0);return ar(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),lr=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),ze=new WeakMap,bt=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Te=function(){function e(){}return e.connect=function(t,n){var r=new lr(t,n);ze.set(t,r)},e.observe=function(t,n,r){var o=ze.get(t),l=o.observationTargets.length===0;bt(o.observationTargets,n)<0&&(l&&oe.push(o),o.observationTargets.push(new sr(n,r&&r.box)),vt(1),Le.schedule())},e.unobserve=function(t,n){var r=ze.get(t),o=bt(r.observationTargets,n),l=r.observationTargets.length===1;o>=0&&(l&&oe.splice(oe.indexOf(r),1),r.observationTargets.splice(o,1),vt(-1))},e.disconnect=function(t){var n=this,r=ze.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),cr=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Te.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!lt(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Te.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!lt(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Te.unobserve(this,t)},e.prototype.disconnect=function(){Te.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();class ur{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new(typeof window<"u"&&window.ResizeObserver||cr)(this.handleResize),this.elHandlersMap=new Map}handleResize(t){for(const n of t){const r=this.elHandlersMap.get(n.target);r!==void 0&&r(n)}}registerHandler(t,n){this.elHandlersMap.set(t,n),this.observer.observe(t)}unregisterHandler(t){this.elHandlersMap.has(t)&&(this.elHandlersMap.delete(t),this.observer.unobserve(t))}}const pt=new ur,gt=we({name:"ResizeObserver",props:{onResize:Function},setup(e){let t=!1;const n=Sn().proxy;function r(o){const{onResize:l}=e;l!==void 0&&l(o)}Oe(()=>{const o=n.$el;if(o===void 0){it("resize-observer","$el does not exist.");return}if(o.nextElementSibling!==o.nextSibling&&o.nodeType===3&&o.nodeValue!==""){it("resize-observer","$el can not be observed (it may be a text node).");return}o.nextElementSibling!==null&&(pt.registerHandler(o.nextElementSibling,r),t=!0)}),me(()=>{t&&pt.unregisterHandler(n.$el.nextElementSibling)})},render(){return yn(this.$slots,"default")}});function Ct(e){return e instanceof HTMLElement}function kt(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(Ct(n)&&($t(n)||kt(n)))return!0}return!1}function Pt(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(Ct(n)&&($t(n)||Pt(n)))return!0}return!1}function $t(e){if(!dr(e))return!1;try{e.focus({preventScroll:!0})}catch{}return document.activeElement===e}function dr(e){if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.getAttribute("disabled"))return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return e.type!=="hidden"&&e.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let ve=[];const Lr=we({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(e){const t=Mn(),n=R(null),r=R(null);let o=!1,l=!1;const v=typeof document>"u"?null:document.activeElement;function z(){return ve[ve.length-1]===t}function T(d){var f;d.code==="Escape"&&z()&&((f=e.onEsc)===null||f===void 0||f.call(e,d))}Oe(()=>{He(()=>e.active,d=>{d?(g(),q("keydown",document,T)):(V("keydown",document,T),o&&O())},{immediate:!0})}),me(()=>{V("keydown",document,T),o&&O()});function p(d){if(!l&&z()){const f=w();if(f===null||f.contains(zt(d)))return;x("first")}}function w(){const d=n.value;if(d===null)return null;let f=d;for(;f=f.nextSibling,!(f===null||f instanceof Element&&f.tagName==="DIV"););return f}function g(){var d;if(!e.disabled){if(ve.push(t),e.autoFocus){const{initialFocusTo:f}=e;f===void 0?x("first"):(d=at(f))===null||d===void 0||d.focus({preventScroll:!0})}o=!0,document.addEventListener("focus",p,!0)}}function O(){var d;if(e.disabled||(document.removeEventListener("focus",p,!0),ve=ve.filter(k=>k!==t),z()))return;const{finalFocusTo:f}=e;f!==void 0?(d=at(f))===null||d===void 0||d.focus({preventScroll:!0}):e.returnFocusOnDeactivated&&v instanceof HTMLElement&&(l=!0,v.focus({preventScroll:!0}),l=!1)}function x(d){if(z()&&e.active){const f=n.value,k=r.value;if(f!==null&&k!==null){const $=w();if($==null||$===k){l=!0,f.focus({preventScroll:!0}),l=!1;return}l=!0;const Y=d==="first"?kt($):Pt($);l=!1,Y||(l=!0,f.focus({preventScroll:!0}),l=!1)}}}function B(d){if(l)return;const f=w();f!==null&&(d.relatedTarget!==null&&f.contains(d.relatedTarget)?x("last"):x("first"))}function _(d){l||(d.relatedTarget!==null&&d.relatedTarget===n.value?x("last"):x("first"))}return{focusableStartRef:n,focusableEndRef:r,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:B,handleEndFocus:_}},render(){const{default:e}=this.$slots;if(e===void 0)return null;if(this.disabled)return e();const{active:t,focusableStyle:n}=this;return C(St,null,[C("div",{"aria-hidden":"true",tabindex:t?"0":"-1",ref:"focusableStartRef",style:n,onFocus:this.handleStartFocus}),e(),C("div",{"aria-hidden":"true",style:n,ref:"focusableEndRef",tabindex:t?"0":"-1",onFocus:this.handleEndFocus})])}}),fr=/^(\d|\.)+$/,mt=/(\d|\.)+/;function Wr(e,{c:t=1,offset:n=0,attachPx:r=!0}={}){if(typeof e=="number"){const o=(e+n)*t;return o===0?"0":`${o}px`}else if(typeof e=="string")if(fr.test(e)){const o=(Number(e)+n)*t;return r?o===0?"0":`${o}px`:`${o}`}else{const o=mt.exec(e);return o?e.replace(mt,String((Number(o[0])+n)*t)):e}return e}function wt(e){const{left:t,right:n,top:r,bottom:o}=be(e);return`${r} ${t} ${o} ${n}`}const hr=new WeakSet;function Dr(e){return!hr.has(e)}const xt=we({render(){var e,t;return(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e)}}),{cubicBezierEaseInOut:yt}=Bn;function vr({name:e="fade-in",enterDuration:t="0.2s",leaveDuration:n="0.2s",enterCubicBezier:r=yt,leaveCubicBezier:o=yt}={}){return[D(`&.${e}-transition-enter-active`,{transition:`all ${t} ${r}!important`}),D(`&.${e}-transition-leave-active`,{transition:`all ${n} ${o}!important`}),D(`&.${e}-transition-enter-from, &.${e}-transition-leave-to`,{opacity:0}),D(`&.${e}-transition-leave-from, &.${e}-transition-enter-to`,{opacity:1})]}const br={railInsetHorizontalBottom:"auto 2px 4px 2px",railInsetHorizontalTop:"4px 2px auto 2px",railInsetVerticalRight:"2px 4px 2px auto",railInsetVerticalLeft:"2px auto 2px 4px",railColor:"transparent"};function pr(e){const{scrollbarColor:t,scrollbarColorHover:n,scrollbarHeight:r,scrollbarWidth:o,scrollbarBorderRadius:l}=e;return Object.assign(Object.assign({},br),{height:r,width:o,borderRadius:l,color:t,colorHover:n})}const gr={name:"Scrollbar",common:Hn,self:pr},mr=ye("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[D(">",[ye("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 min-height: inherit;
 max-height: inherit;
 scrollbar-width: none;
 `,[D("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),D(">",[ye("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])])]),D(">, +",[ye("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 background: var(--n-scrollbar-rail-color);
 -webkit-user-select: none;
 `,[re("horizontal",`
 height: var(--n-scrollbar-height);
 `,[D(">",[Se("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),re("horizontal--top",`
 top: var(--n-scrollbar-rail-top-horizontal-top); 
 right: var(--n-scrollbar-rail-right-horizontal-top); 
 bottom: var(--n-scrollbar-rail-bottom-horizontal-top); 
 left: var(--n-scrollbar-rail-left-horizontal-top); 
 `),re("horizontal--bottom",`
 top: var(--n-scrollbar-rail-top-horizontal-bottom); 
 right: var(--n-scrollbar-rail-right-horizontal-bottom); 
 bottom: var(--n-scrollbar-rail-bottom-horizontal-bottom); 
 left: var(--n-scrollbar-rail-left-horizontal-bottom); 
 `),re("vertical",`
 width: var(--n-scrollbar-width);
 `,[D(">",[Se("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),re("vertical--left",`
 top: var(--n-scrollbar-rail-top-vertical-left); 
 right: var(--n-scrollbar-rail-right-vertical-left); 
 bottom: var(--n-scrollbar-rail-bottom-vertical-left); 
 left: var(--n-scrollbar-rail-left-vertical-left); 
 `),re("vertical--right",`
 top: var(--n-scrollbar-rail-top-vertical-right); 
 right: var(--n-scrollbar-rail-right-vertical-right); 
 bottom: var(--n-scrollbar-rail-bottom-vertical-right); 
 left: var(--n-scrollbar-rail-left-vertical-right); 
 `),re("disabled",[D(">",[Se("scrollbar","pointer-events: none;")])]),D(">",[Se("scrollbar",`
 z-index: 1;
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[vr(),D("&:hover","background-color: var(--n-scrollbar-color-hover);")])])])])]),wr=Object.assign(Object.assign({},Rt.props),{duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:[String,Array],contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean,yPlacement:{type:String,default:"right"},xPlacement:{type:String,default:"bottom"}}),Fr=we({name:"Scrollbar",props:wr,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:r}=Rn(e),o=On("Scrollbar",r,t),l=R(null),v=R(null),z=R(null),T=R(null),p=R(null),w=R(null),g=R(null),O=R(null),x=R(null),B=R(null),_=R(null),d=R(0),f=R(0),k=R(!1),$=R(!1);let Y=!1,K=!1,I,a,s=0,h=0,b=0,S=0;const P=Fn(),F=Rt("Scrollbar","-scrollbar",mr,gr,e,t),M=H(()=>{const{value:i}=O,{value:c}=w,{value:u}=B;return i===null||c===null||u===null?0:Math.min(i,u*i/c+Ke(F.value.self.width)*1.5)}),L=H(()=>`${M.value}px`),X=H(()=>{const{value:i}=x,{value:c}=g,{value:u}=_;return i===null||c===null||u===null?0:u*i/c+Ke(F.value.self.height)*1.5}),U=H(()=>`${X.value}px`),j=H(()=>{const{value:i}=O,{value:c}=d,{value:u}=w,{value:m}=B;if(i===null||u===null||m===null)return 0;{const E=u-i;return E?c/E*(m-M.value):0}}),G=H(()=>`${j.value}px`),ee=H(()=>{const{value:i}=x,{value:c}=f,{value:u}=g,{value:m}=_;if(i===null||u===null||m===null)return 0;{const E=u-i;return E?c/E*(m-X.value):0}}),J=H(()=>`${ee.value}px`),xe=H(()=>{const{value:i}=O,{value:c}=w;return i!==null&&c!==null&&c>i}),Fe=H(()=>{const{value:i}=x,{value:c}=g;return i!==null&&c!==null&&c>i}),Lt=H(()=>{const{trigger:i}=e;return i==="none"||k.value}),Wt=H(()=>{const{trigger:i}=e;return i==="none"||$.value}),te=H(()=>{const{container:i}=e;return i?i():v.value}),Dt=H(()=>{const{content:i}=e;return i?i():z.value}),Xe=(i,c)=>{if(!e.scrollable)return;if(typeof i=="number"){ae(i,c??0,0,!1,"auto");return}const{left:u,top:m,index:E,elSize:W,position:A,behavior:y,el:N,debounce:Q=!0}=i;(u!==void 0||m!==void 0)&&ae(u??0,m??0,0,!1,y),N!==void 0?ae(0,N.offsetTop,N.offsetHeight,Q,y):E!==void 0&&W!==void 0?ae(0,E*W,W,Q,y):A==="bottom"?ae(0,Number.MAX_SAFE_INTEGER,0,!1,y):A==="top"&&ae(0,0,0,!1,y)},Ne=Xn(()=>{e.container||Xe({top:d.value,left:f.value})}),Ft=()=>{Ne.isDeactivated||ne()},Xt=i=>{if(Ne.isDeactivated)return;const{onResize:c}=e;c&&c(i),ne()},Nt=(i,c)=>{if(!e.scrollable)return;const{value:u}=te;u&&(typeof i=="object"?u.scrollBy(i):u.scrollBy(i,c||0))};function ae(i,c,u,m,E){const{value:W}=te;if(W){if(m){const{scrollTop:A,offsetHeight:y}=W;if(c>A){c+u<=A+y||W.scrollTo({left:i,top:c+u-y,behavior:E});return}}W.scrollTo({left:i,top:c,behavior:E})}}function Vt(){jt(),Zt(),ne()}function _t(){Ie()}function Ie(){At(),Yt()}function At(){a!==void 0&&window.clearTimeout(a),a=window.setTimeout(()=>{$.value=!1},e.duration)}function Yt(){I!==void 0&&window.clearTimeout(I),I=window.setTimeout(()=>{k.value=!1},e.duration)}function jt(){I!==void 0&&window.clearTimeout(I),k.value=!0}function Zt(){a!==void 0&&window.clearTimeout(a),$.value=!0}function Ut(i){const{onScroll:c}=e;c&&c(i),Ve()}function Ve(){const{value:i}=te;i&&(d.value=i.scrollTop,f.value=i.scrollLeft*(o!=null&&o.value?-1:1))}function qt(){const{value:i}=Dt;i&&(w.value=i.offsetHeight,g.value=i.offsetWidth);const{value:c}=te;c&&(O.value=c.offsetHeight,x.value=c.offsetWidth);const{value:u}=p,{value:m}=T;u&&(_.value=u.offsetWidth),m&&(B.value=m.offsetHeight)}function _e(){const{value:i}=te;i&&(d.value=i.scrollTop,f.value=i.scrollLeft*(o!=null&&o.value?-1:1),O.value=i.offsetHeight,x.value=i.offsetWidth,w.value=i.scrollHeight,g.value=i.scrollWidth);const{value:c}=p,{value:u}=T;c&&(_.value=c.offsetWidth),u&&(B.value=u.offsetHeight)}function ne(){e.scrollable&&(e.useUnifiedContainer?_e():(qt(),Ve()))}function Ae(i){var c;return!(!((c=l.value)===null||c===void 0)&&c.contains(zt(i)))}function Kt(i){i.preventDefault(),i.stopPropagation(),K=!0,q("mousemove",window,Ye,!0),q("mouseup",window,je,!0),h=f.value,b=o!=null&&o.value?window.innerWidth-i.clientX:i.clientX}function Ye(i){if(!K)return;I!==void 0&&window.clearTimeout(I),a!==void 0&&window.clearTimeout(a);const{value:c}=x,{value:u}=g,{value:m}=X;if(c===null||u===null)return;const W=(o!=null&&o.value?window.innerWidth-i.clientX-b:i.clientX-b)*(u-c)/(c-m),A=u-c;let y=h+W;y=Math.min(A,y),y=Math.max(y,0);const{value:N}=te;if(N){N.scrollLeft=y*(o!=null&&o.value?-1:1);const{internalOnUpdateScrollLeft:Q}=e;Q&&Q(y)}}function je(i){i.preventDefault(),i.stopPropagation(),V("mousemove",window,Ye,!0),V("mouseup",window,je,!0),K=!1,ne(),Ae(i)&&Ie()}function Gt(i){i.preventDefault(),i.stopPropagation(),Y=!0,q("mousemove",window,Me,!0),q("mouseup",window,Ce,!0),s=d.value,S=i.clientY}function Me(i){if(!Y)return;I!==void 0&&window.clearTimeout(I),a!==void 0&&window.clearTimeout(a);const{value:c}=O,{value:u}=w,{value:m}=M;if(c===null||u===null)return;const W=(i.clientY-S)*(u-c)/(c-m),A=u-c;let y=s+W;y=Math.min(A,y),y=Math.max(y,0);const{value:N}=te;N&&(N.scrollTop=y)}function Ce(i){i.preventDefault(),i.stopPropagation(),V("mousemove",window,Me,!0),V("mouseup",window,Ce,!0),Y=!1,ne(),Ae(i)&&Ie()}zn(()=>{const{value:i}=Fe,{value:c}=xe,{value:u}=t,{value:m}=p,{value:E}=T;m&&(i?m.classList.remove(`${u}-scrollbar-rail--disabled`):m.classList.add(`${u}-scrollbar-rail--disabled`)),E&&(c?E.classList.remove(`${u}-scrollbar-rail--disabled`):E.classList.add(`${u}-scrollbar-rail--disabled`))}),Oe(()=>{e.container||ne()}),me(()=>{I!==void 0&&window.clearTimeout(I),a!==void 0&&window.clearTimeout(a),V("mousemove",window,Me,!0),V("mouseup",window,Ce,!0)});const Ze=H(()=>{const{common:{cubicBezierEaseInOut:i},self:{color:c,colorHover:u,height:m,width:E,borderRadius:W,railInsetHorizontalTop:A,railInsetHorizontalBottom:y,railInsetVerticalRight:N,railInsetVerticalLeft:Q,railColor:Jt}}=F.value,{top:Qt,right:en,bottom:tn,left:nn}=be(A),{top:rn,right:on,bottom:an,left:sn}=be(y),{top:ln,right:cn,bottom:un,left:dn}=be(o!=null&&o.value?wt(N):N),{top:fn,right:hn,bottom:vn,left:bn}=be(o!=null&&o.value?wt(Q):Q);return{"--n-scrollbar-bezier":i,"--n-scrollbar-color":c,"--n-scrollbar-color-hover":u,"--n-scrollbar-border-radius":W,"--n-scrollbar-width":E,"--n-scrollbar-height":m,"--n-scrollbar-rail-top-horizontal-top":Qt,"--n-scrollbar-rail-right-horizontal-top":en,"--n-scrollbar-rail-bottom-horizontal-top":tn,"--n-scrollbar-rail-left-horizontal-top":nn,"--n-scrollbar-rail-top-horizontal-bottom":rn,"--n-scrollbar-rail-right-horizontal-bottom":on,"--n-scrollbar-rail-bottom-horizontal-bottom":an,"--n-scrollbar-rail-left-horizontal-bottom":sn,"--n-scrollbar-rail-top-vertical-right":ln,"--n-scrollbar-rail-right-vertical-right":cn,"--n-scrollbar-rail-bottom-vertical-right":un,"--n-scrollbar-rail-left-vertical-right":dn,"--n-scrollbar-rail-top-vertical-left":fn,"--n-scrollbar-rail-right-vertical-left":hn,"--n-scrollbar-rail-bottom-vertical-left":vn,"--n-scrollbar-rail-left-vertical-left":bn,"--n-scrollbar-rail-color":Jt}}),se=n?In("scrollbar",void 0,Ze,e):void 0;return Object.assign(Object.assign({},{scrollTo:Xe,scrollBy:Nt,sync:ne,syncUnifiedContainer:_e,handleMouseEnterWrapper:Vt,handleMouseLeaveWrapper:_t}),{mergedClsPrefix:t,rtlEnabled:o,containerScrollTop:d,wrapperRef:l,containerRef:v,contentRef:z,yRailRef:T,xRailRef:p,needYBar:xe,needXBar:Fe,yBarSizePx:L,xBarSizePx:U,yBarTopPx:G,xBarLeftPx:J,isShowXBar:Lt,isShowYBar:Wt,isIos:P,handleScroll:Ut,handleContentResize:Ft,handleContainerResize:Xt,handleYScrollMouseDown:Gt,handleXScrollMouseDown:Kt,cssVars:n?void 0:Ze,themeClass:se==null?void 0:se.themeClass,onRender:se==null?void 0:se.onRender})},render(){var e;const{$slots:t,mergedClsPrefix:n,triggerDisplayManually:r,rtlEnabled:o,internalHoistYRail:l,yPlacement:v,xPlacement:z,xScrollable:T}=this;if(!this.scrollable)return(e=t.default)===null||e===void 0?void 0:e.call(t);const p=this.trigger==="none",w=(x,B)=>C("div",{ref:"yRailRef",class:[`${n}-scrollbar-rail`,`${n}-scrollbar-rail--vertical`,`${n}-scrollbar-rail--vertical--${v}`,x],"data-scrollbar-rail":!0,style:[B||"",this.verticalRailStyle],"aria-hidden":!0},C(p?xt:qe,p?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?C("div",{class:`${n}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),g=()=>{var x,B;return(x=this.onRender)===null||x===void 0||x.call(this),C("div",Tn(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${n}-scrollbar`,this.themeClass,o&&`${n}-scrollbar--rtl`],style:this.cssVars,onMouseenter:r?void 0:this.handleMouseEnterWrapper,onMouseleave:r?void 0:this.handleMouseLeaveWrapper}),[this.container?(B=t.default)===null||B===void 0?void 0:B.call(t):C("div",{role:"none",ref:"containerRef",class:[`${n}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},C(gt,{onResize:this.handleContentResize},{default:()=>C("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${n}-scrollbar-content`,this.contentClass]},t)})),l?null:w(void 0,void 0),T&&C("div",{ref:"xRailRef",class:[`${n}-scrollbar-rail`,`${n}-scrollbar-rail--horizontal`,`${n}-scrollbar-rail--horizontal--${z}`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},C(p?xt:qe,p?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?C("div",{class:`${n}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:o?this.xBarLeftPx:void 0,left:o?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},O=this.container?g():C(gt,{onResize:this.handleContainerResize},{default:g});return l?C(St,null,O,w(this.themeClass,this.cssVars)):O}});export{Lr as F,$r as L,Fr as S,Tr as a,vr as b,kr as c,Er as d,zr as e,Wr as f,Mr as g,Dr as h,V as i,be as j,Or as k,Hr as l,Br as m,zt as n,q as o,Ir as p,Mn as q,Rr as r,gr as s,Ke as t,Cr as u,Pr as z};
